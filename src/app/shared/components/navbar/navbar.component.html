<div class="surface-overlay px-3 sm:px-7 flex flex-wrap align-items-stretch justify-content-between relative" style="background-color: #e3e9ef !important;">

        <div class="flex align-items-center justify-content-center py-3">
            <a href="/" class="flex items-center">
                <img src="assets/smartbuy-high-resolution-logo-transparent.png" alt="logo" height="40">
            </a>
        </div>
        
    <div class="flex align-items-center justify-content-center py-3">  
        
        <div class="lg:flex w-full lg:w-auto hidden py-3 lg:py-0">
        <ul class="list-none p-0 m-0 flex w-full" style="min-height: 30px;">
          <div class="flex items-center justify-center w-full">
            <form (submit)="onSearch()" class="search-form">
              <input [(ngModel)]="searchQuery" name="search" type="text" placeholder="rechercher..." />
              <button type="submit">
                <i class="pi pi-search"></i>
              </button>
            </form>

          </div>

          <li class="flex flex-auto lg:flex-initial justify-content-center">


                <a pRipple pStyleClass="@next" enterClass="hidden" enterActiveClass="scalein" leaveToClass="hidden"
                    leaveActiveClass="fadeout"
                    class="p-ripple p-element text-900 font-medium inline-flex align-items-center cursor-pointer lg:px-3 text-700 hover:text-primary"><i
                        class="pi pi-user text-xl"></i><span class="p-ink"
                        style="height: 72px; width: 72px; top: 3px; left: -20.9844px;"></span></a>
                        <div 
                        class="border-round surface-overlay p-3 shadow-2 absolute right-0 top-100 z-1 w-15rem origin-top" 
                        [ngClass]="{'hidden': !isMenuVisible}"
                      >
                      
                    <ul   class="list-none p-0 m-0">
                        <li  id="list-account" class="">
                            <a *ngIf="!isLoggedIn" (click)="goToLogin()" (click)="toggleMenu()" class="a-account">
                                <i class="pi pi-user text-xl"></i> <span>Se connecter</span>
                            </a>
                            <a *ngIf="!isLoggedIn" (click)="goToRegister()" (click)="toggleMenu()" class="a-account">
                                <i class="pi pi-user-plus text-xl"></i> <span>Créer un compte</span>
                            </a>
                            <a *ngIf="isLoggedIn" routerLink="/profil" (click)="toggleMenu()" class="a-account">
                                <i class="pi pi-user text-xl"></i> <span>Mon compte</span>
                            </a>
                            <a *ngIf="isLoggedIn" (click)="toggleMenu()" (click)="logout()" class="a-account">
                                <i class="pi pi-sign-out text-xl"></i> <span>Se déconnecter</span>
                            </a>
                        </li>
                        
                    </ul>
                </div>
            </li>
            <li class="flex flex-auto lg:flex-initial justify-content-center">

                <a (click)="toggleCart()"  pRipple pStyleClass="@next" enterClass="hidden" enterActiveClass="scalein" leaveToClass="hidden"
                    leaveActiveClass="fadeout"
                    class="p-ripple p-element text-900 font-medium inline-flex align-items-center cursor-pointer px-1 lg:px-3 hover:text-primary"><i
                        pbadge="" class="p-element pi pi-shopping-cart text-xl p-overlay-badge"><span id="pr_id_9_badge"
                            class="p-badge p-component p-badge-dot"></span></i><span class="hidden">Mon Panier</span><span
                        class="p-ink" style="height: 79px; width: 79px; top: -11.5px; left: -7.5px;"></span></a>

                        <div [ngClass]="{'hidden': !isCartVisible}" 
     class="border-round surface-overlay p-4 shadow-2 absolute right-0 top-100 z-1 w-20rem origin-top">
     <span class="text-900 font-medium mb-3 block">Mon Panier ({{ cartItems.length }} articles)</span>

  <div *ngFor="let item of cartItems" class="flex align-items-center border-bottom-1 surface-border pb-3">
    <img [src]="item.product.images[0]" class="w-4rem flex-shrink-0 shadow-1" alt="{{ item.product.name }}">
    <div class="flex flex-column pl-3">
      <span class="text-900 font-medium mb-2">{{ item.product.name }}</span>
      <span class="text-primary font-bold">{{ item.unitPrice }} DHS</span>
      <span class="text-600">Qty: {{ item.quantity }}</span>
    </div>
  </div>

  <div class="flex pt-3">
    <button pButton pRipple class="p-element p-ripple p-button-outlined mr-2" [routerLink]="'/cart'">
      Voir le panier
    </button>
    <button pButton pRipple class="p-element p-ripple ml-2 p-button" [routerLink]="'/checkout'">
      Passer au paiement
    </button>
  </div>
</div>





            </li>
        </ul>
    </div>
</div>
<div class="flex w-full lg:w-auto border-y-1 surface-border surface-overlay lg:hidden py-3 lg:py-0">
    <ul class="list-none p-0 m-0 flex w-full" style="min-height: 30px;">
        <li class="flex flex-auto lg:flex-initial justify-content-center"><a pRipple
                class="p-ripple p-element text-900 font-medium inline-flex align-items-center cursor-pointer lg:pr-3 text-700 hover:text-primary"><i
                    class="pi pi-search text-xl"></i><span class="hidden">Search</span><span class="p-ink"></span></a>
        </li>

        <li class="flex flex-auto lg:flex-initial justify-content-center"><a pRipple
                class="p-ripple p-element text-900 font-medium inline-flex align-items-center cursor-pointer lg:px-3 text-700 hover:text-primary"><i
                    class="pi pi-user text-xl"></i><span class="hidden">Sign In</span><span class="p-ink"></span></a>
        </li>
        <li class="flex flex-auto lg:flex-initial justify-content-center"><a pRipple
                class="p-ripple p-element text-900 font-medium inline-flex align-items-center cursor-pointer lg:pl-3 pr-1 text-700 hover:text-primary"><i
                    pbadge="" class="pi pi-shopping-cart text-xl"></i><span class="hidden">Panier</span><span
                    class="p-ink"></span></a></li>
    </ul>
</div>


    